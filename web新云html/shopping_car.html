<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1" />
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta name="format-detection" content="telephone=no,email=no">
	<title>Document</title>
    <link rel="stylesheet" type="text/css"  href="css/base.css" />
    <link rel="stylesheet" type="text/css" href="css/index.css" />
    <link rel="stylesheet" type="text/css" href="css/shopping_car.css" />
	<script src="js/jquery-1.7.2.js"></script>
    <script src="js/index.js"></script>
    <script>
    	$(document).ready(function() {
    		$(".pro_number_box input").each(function(index, el) {
    			if($(this).val()>1){
    				$(".pro_number_box .minus").eq(index).css('backgroundImage',"url('img/red_kd.png')");
    			}else {
    				$(".pro_number_box .minus").eq(index).css('backgroundImage',"url('img/red_bkd.png')");
    			}
    		});
    		$(".minus").each(function(index, el) {
    			$(this).on('touchstart', function(event) {
	    			var count = $(".pro_number_box input").eq(index).val();
	    			if(count == 1){
	    				count = 1;
	    				$(this).css('backgroundImage',"url('img/red_bkd.png')");
	    			}else{
	    				count--;
	    				if(count ==1){
	    					$(".pro_number_box input").eq(index).val(count);
	    					$(this).css('backgroundImage',"url('img/red_bkd.png')");
	    				}else{
	    					$(".pro_number_box input").eq(index).val(count);
	    					$(this).css('backgroundImage',"url('img/red_kd.png')");
	    				}
	    			}
	    		});
    		});
    		$(".add").each(function(index, el) {
    			$(this).on('touchstart', function(event) {
    				var count = $(".pro_number_box input").eq(index).val();
    				count++;
    				$(".pro_number_box input").eq(index).val(count);
    			})
    		})
    	});
    	document.addEventListener('DOMContentLoaded',function(ev){
    		var oPro_li = document.getElementsByClassName('left_content_box');
    		var oB = document.querySelector("body")
    		var oContent = document.querySelector(".content");
    		var FZ = parseInt(window.getComputedStyle(oB).fontSize);
    		for(var i=0;i<oPro_li.length;i++){
    			oPro_li[i].index = i;
    			oPro_li[i].addEventListener('touchstart',function(ev){
    				var x = 0;
    				i = this.index;
    				var downX = ev.targetTouches[0].pageX;
    				function move(ev){
    					var moveX = ev.targetTouches[0].pageX;
    					x = -(downX-moveX)/FZ;
    					if(x>-7.65&&x<0){
    						oPro_li[i].style.transition = '0s all ease';
    						oPro_li[i].style.WebkitTransform = 'translate3d('+x+'rem,0,0)';
    					}
    				}
    				function end(ev){
    					if(x>-3){
    						oPro_li[i].style.transition = '.5s all ease';
    						oPro_li[i].style.WebkitTransform = 'translate3d(0,0,0)';
    					}else{
    						oPro_li[i].style.transition = '.5s all ease';	
    						oPro_li[i].style.WebkitTransform = 'translate3d(-7.65rem,0,0)';
    					}

    					document.removeEventListener('touchmove',move,false);
    					document.removeEventListener('touchend',end,false);
    				}
    				document.addEventListener('touchmove',move,false);
    				document.addEventListener('touchend',end,false);
	    		})
    		}
    		oContent.addEventListener('touchstart', function(ev){
    			for(var i=0;i<oPro_li.length;i++){
    				oPro_li[i].style.transition = '.5s all ease';	
    				oPro_li[i].style.WebkitTransform = 'translate3d(0,0,0)';
    			}
    		})
    	})
    </script>
</head>
<body>
	<div class="head clearfix">
		<b class="menu fl"></b> 
		<a href="javascript:;" class="personal fr"></a>
		<div class="menu_box">
			<div class="product_menu">
				<h2>产品列表</h2>
				<ul>
					<li>
						<span class="product_img">
							<img src="img/product_menu_01.png" alt="">
						</span>
						<div>
							<a href="javascript:;">智能云贴=lite型</a>
						</div>
					</li>
					<li>
						<span class="product_img">
							<img src="img/product_menu_01.png" alt="">
						</span>
						<div>
							<a href="javascript:;">智能云贴贴片智能云贴贴片智能云贴贴片</a>
						</div>
					</li>
				</ul>	
			</div>
		</div>
	</div>
	<div class="head_masking"></div>
	<!--head-->
	<div class="content">
		<div class="content_head clearfix">
			<a href=""></a>
			<h3>购物车</h3>
		</div>
		<ul class="pro_box">
			<li>
				<div class="left_content_box fl clearfix">
					<div class="img_box fl">
						<img src="img/buy_img_01.png" alt="">
					</div>
					<div class="msg_box fl">
						<h4>智能云贴=lite型</h4>
						<p>颜色分类：这那的（啥啊）</p>
						<div>
							<span class="now_price"><b>￥</b>399.00</span>
							<span class="old_price"><b>￥</b>499.00</span>
						</div>
					</div>
					<div class="pro_number_box fl clearfix">
						<span class="minus"></span>
						<input type="text" value="5" readonly="readonly">
						<span class="add"></span>
					</div>
					<div class="right_delete_box fl">
						删除	
					</div>
				</div>
			</li>
			<li>
				<div class="left_content_box fl clearfix">
					<div class="img_box fl">
						<img src="img/buy_img_01.png" alt="">
					</div>
					<div class="msg_box fl">
						<h4>智能云贴=lite型</h4>
						<p>颜色分类：这那的（啥啊）</p>
						<div>
							<span class="now_price"><b>￥</b>399.00</span>
							<span class="old_price"><b>￥</b>499.00</span>
						</div>
					</div>
					<div class="pro_number_box fl clearfix">
						<span class="minus"></span>
						<input type="text" value="5" readonly="readonly">
						<span class="add"></span>
					</div>
					<div class="right_delete_box fl">
						删除	
					</div>
				</div>
			</li>
		</ul>
	</div>
	<!--content-->
	<div class="foot_shopcar clearfix">
		<div class="price_totle fl">
			<p>合计：</p>
			<b>￥</b>
			<span>399.00</span>
		</div>
		<input type="button" value="继续购物">
		<input type="button" value="去结算">
	</div>
</body>
</html>